{"version":3,"file":"/assets/admin/js/wp-adminify--setup-wizard.js","mappings":"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","sources":["webpack://adminify/./dev/admin/modules/setup-wizard/setup-wizard.js"],"sourcesContent":["import Vue from 'vue';\n\njQuery( function($) {\n\n    new Vue({\n\n        el: '#wp-adminify--setup-wizard',\n\n        data: () => ({\n            ...adminify_setup_wizard_data,\n            active_step: null\n        }),\n\n        mounted() {\n            const params = new URLSearchParams( window.location.search );\n            if ( params.has('step') ) this.active_step = params.get('step');\n        },\n\n        methods: {\n\n            getMedia() {\n                return this.media;\n            },\n\n            setMedia( media ) {\n                this.media = media;\n            },\n\n            handle_media( media ) {\n\n                this.setMedia( media );\n                \n                if ( this.frame ) {\n                    this.frame.open();\n                    return;\n                }\n\n                this.frame = wp.media({\n                    title: 'Select or Upload Media',\n                    button: {\n                        text: 'Use this media'\n                    },\n                    multiple: false\n                });\n                \n                this.frame.on( 'select', () => {\n                    const attachment = this.frame.state().get('selection').first().toJSON();\n                    attachment.thumbnail = attachment.sizes.thumbnail.url;\n                    let _media = this.getMedia();\n                    for ( let media_key in _media ) _media[media_key] = attachment[media_key];\n                });\n\n                this.frame.on( 'open', () => {\n                    let selection = this.frame.state().get('selection');\n                    let _media = this.getMedia();\n                    if ( _media && _media.id ) {\n                        let attachment = wp.media.attachment( _media.id );\n                        attachment.fetch();\n                        return selection.add( attachment ? [attachment] : [] );\n                    }\n                    return selection.add([]);\n                });\n\n                this.frame.open();\n\n            },\n\n            async handleSubmit() {\n                const res = await wp.ajax.post( 'wpadminify_save_wizard_data', { settings: this.settings, active_step: this.active_step, _wpnonce: this.wpnonce } );\n                if ( res && res.redirect ) window.location = res.redirect;\n            }\n\n        }\n\n    });\n\n});"],"names":["Vue","jQuery","$","el","data","adminify_setup_wizard_data","active_step","mounted","params","URLSearchParams","window","location","search","has","get","methods","getMedia","media","setMedia","handle_media","frame","open","wp","title","button","text","multiple","on","attachment","state","first","toJSON","thumbnail","sizes","url","_media","media_key","selection","id","fetch","add","handleSubmit","ajax","post","settings","_wpnonce","wpnonce","res","redirect"],"sourceRoot":""}